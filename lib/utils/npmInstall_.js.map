{"version":3,"sources":["../../src/utils/npmInstall_.js"],"names":["cmd","require","module","exports","app","targetPath","packages","lastCwd","process","cwd","chdir","log","runLive_","data","toString"],"mappings":";;;;AAAA,MAAM;AAAEA,EAAAA;AAAF,IAAUC,OAAO,CAAC,WAAD,CAAvB;;AAEAC,MAAM,CAACC,OAAP,GAAiB,OAAOC,GAAP,EAAYC,UAAZ,EAAwBC,QAAxB,KAAqC;AAClD,QAAMC,OAAO,GAAGC,OAAO,CAACC,GAAR,EAAhB;AACAD,EAAAA,OAAO,CAACE,KAAR,CAAcL,UAAd;AAEAD,EAAAA,GAAG,CAACO,GAAJ,CAAQ,MAAR,EAAgB,4BAAhB;;AAEA,MAAI;AACA,UAAMX,GAAG,CAACY,QAAJ,CACF,KADE,EAEF,CAAC,SAAD,EAAY,IAAIN,QAAQ,IAAI,EAAhB,CAAZ,CAFE,EAGDO,IAAD,IAAU;AACNT,MAAAA,GAAG,CAACO,GAAJ,CAAQ,SAAR,EAAmBE,IAAI,CAACC,QAAL,EAAnB;AACH,KALC,EAMDD,IAAD,IAAU;AACNT,MAAAA,GAAG,CAACO,GAAJ,CAAQ,OAAR,EAAiBE,IAAI,CAACC,QAAL,EAAjB;AACH,KARC,CAAN;AAWAV,IAAAA,GAAG,CAACO,GAAJ,CAAQ,MAAR,EAAgB,6BAAhB;AACH,GAbD,SAaU;AACNH,IAAAA,OAAO,CAACE,KAAR,CAAcH,OAAd;AACH;AACJ,CAtBD","sourcesContent":["const { cmd } = require(\"@genx/sys\");\n\nmodule.exports = async (app, targetPath, packages) => {\n    const lastCwd = process.cwd();\n    process.chdir(targetPath);\n\n    app.log(\"info\", \"Installing dependencies...\");\n\n    try {\n        await cmd.runLive_(\n            \"npm\",\n            [\"install\", ...(packages ?? [])],\n            (data) => {\n                app.log(\"verbose\", data.toString());\n            },\n            (data) => {\n                app.log(\"error\", data.toString());\n            }\n        );\n\n        app.log(\"info\", \"Installed all dependencies.\");\n    } finally {\n        process.chdir(lastCwd);\n    }\n};\n"],"file":"npmInstall_.js"}