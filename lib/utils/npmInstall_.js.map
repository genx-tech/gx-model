{"version":3,"file":"npmInstall_.js","names":["cmd","require","module","exports","app","targetPath","packages","lastCwd","process","cwd","chdir","log","runLive_","data","toString"],"sources":["../../src/utils/npmInstall_.js"],"sourcesContent":["const { cmd } = require(\"@genx/sys\");\n\nmodule.exports = async (app, targetPath, packages) => {\n    const lastCwd = process.cwd();\n    process.chdir(targetPath);\n\n    app.log(\"info\", \"Installing dependencies...\");\n\n    try {\n        await cmd.runLive_(\n            \"npm\",\n            [\"install\", ...(packages ?? [])],\n            (data) => {\n                app.log(\"verbose\", data.toString());\n            },\n            (data) => {\n                app.log(\"error\", data.toString());\n            }\n        );\n\n        app.log(\"info\", \"Installed all dependencies.\");\n    } finally {\n        process.chdir(lastCwd);\n    }\n};\n"],"mappings":";;;;AAAA,MAAM;EAAEA;AAAF,IAAUC,OAAO,CAAC,WAAD,CAAvB;;AAEAC,MAAM,CAACC,OAAP,GAAiB,OAAOC,GAAP,EAAYC,UAAZ,EAAwBC,QAAxB,KAAqC;EAClD,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAR,EAAhB;EACAD,OAAO,CAACE,KAAR,CAAcL,UAAd;EAEAD,GAAG,CAACO,GAAJ,CAAQ,MAAR,EAAgB,4BAAhB;;EAEA,IAAI;IACA,MAAMX,GAAG,CAACY,QAAJ,CACF,KADE,EAEF,CAAC,SAAD,EAAY,IAAIN,QAAQ,IAAI,EAAhB,CAAZ,CAFE,EAGDO,IAAD,IAAU;MACNT,GAAG,CAACO,GAAJ,CAAQ,SAAR,EAAmBE,IAAI,CAACC,QAAL,EAAnB;IACH,CALC,EAMDD,IAAD,IAAU;MACNT,GAAG,CAACO,GAAJ,CAAQ,OAAR,EAAiBE,IAAI,CAACC,QAAL,EAAjB;IACH,CARC,CAAN;IAWAV,GAAG,CAACO,GAAJ,CAAQ,MAAR,EAAgB,6BAAhB;EACH,CAbD,SAaU;IACNH,OAAO,CAACE,KAAR,CAAcH,OAAd;EACH;AACJ,CAtBD"}